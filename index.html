
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Introduction Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="tutorial.html" />
    
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter active" data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="tutorial.html">
            
                <a href="tutorial.html">
            
                    
                    Tutorial
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="tutorial/define-business-logic.html">
            
                <a href="tutorial/define-business-logic.html">
            
                    
                    1. Define your business-logic layer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="tutorial/define-the-schema.html">
            
                <a href="tutorial/define-the-schema.html">
            
                    
                    2. Define your schema
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="tutorial/root-queries-and-mutations.html">
            
                <a href="tutorial/root-queries-and-mutations.html">
            
                    
                    3. Root queries and mutations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="tutorial/middleware.html">
            
                <a href="tutorial/middleware.html">
            
                    
                    4. Middleware
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="tutorial/wire-everything-together.html">
            
                <a href="tutorial/wire-everything-together.html">
            
                    
                    5. Wire everything together
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="data-modeling.html">
            
                <a href="data-modeling.html">
            
                    
                    Data modeling
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="when-to-use.html">
            
                <a href="when-to-use.html">
            
                    
                    When to use Micrograph
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="api-reference.html">
            
                <a href="api-reference.html">
            
                    
                    API
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="api/compile.html">
            
                <a href="api/compile.html">
            
                    
                    compile
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="api/create-middleware.html">
            
                <a href="api/create-middleware.html">
            
                    
                    createMiddleware
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Introduction</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <p> <img src="assets/logo.svg" alt=""></p>
<h1 id="micrograph">Micrograph</h1>
<p><a href="https://github.com/dylnslck/micrograph" target="_blank">Github</a></p>
<p><img src="https://travis-ci.org/dylnslck/micrograph.svg?branch=master" alt=""> <a href="https://codecov.io/gh/dylnslck/micrograph" target="_blank"><img src="https://codecov.io/gh/dylnslck/micrograph/branch/master/graph/badge.svg" alt="codecov"></a></p>
<p>Micrograph is a small (~375 LOC) library that makes developing large GraphQL applications with complex business logic pretty easy. Micrograph generalizes root queries and root mutations across every type in your data model. In other words, you can bootstrap a pretty large GraphQL application by writing a few functions. Afterwords, you can continue to add/modify types in your data model without adding and linking GraphQL-specific object types.</p>
<p>Micrograph supports middleware hooks so that you can easily intercept queries and mutations:</p>
<pre><code class="lang-js"><span class="hljs-keyword">import</span> { createMiddleware } <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;micrograph&apos;</span>;

<span class="hljs-keyword">const</span> middleware = createMiddleware();

middleware.before(<span class="hljs-string">&apos;createUser&apos;</span>, (args, ctx, next) {
  <span class="hljs-keyword">if</span> (!isAuthenticated(ctx.req.headers.authorization)) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">&apos;Unauthorized&apos;</span>);
  }

  next();
});

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> middleware;
</code></pre>
<p>Micrograph is still in <strong>beta</strong> and the API may change over time. I&apos;ve used it in production, but I generally don&apos;t recommend it until the API completely stabilizes.</p>
<h2 id="the-gist">The gist </h2>
<p>Micrograph requires the creation of two files: <code>schema.js</code> and <code>queries.js</code>. You can optionally create two more files: <code>mutations.js</code> and <code>middleware.js</code>. The <a href="tutorial.html">tutorial</a> explains creating these files. Micrograph compiles these files into a <code>GraphQLSchema</code> that can be plugged into your favorite GraphQL server library. These files enable your application to grow by focusing on things that matter, such as middleware and schema types.</p>
<p>For example, let&apos;s say your data model includes users and blogs. You&apos;ll <a href="tutorial/define-the-schema.html">define your schema</a>, <a href="tutorial/root-queries-and-mutations.html">create some root queries and mutations</a>, and specify some <a href="tutorial/middleware.html">middleware</a>. A week later, you decide to add more types to your data model. With Micrograph, you simply need to edit your <code>schema.js</code> and add some more middleware hooks if you choose. You don&apos;t need to add more root queries or root mutations - Micrograph automatically takes care of that.</p>
<p><img src="assets/graph.svg" alt=""></p>
<p>Your app&apos;s complexity can grow without worrying about creating new GraphQL input types, object types, etc.</p>
<h2 id="getting-started">Getting started </h2>
<p>First, install the Micrograph package. Micrograph relies on the <a href="https://github.com/directlyio/cohere" target="_blank">cohere</a> schema library, so install that as well. <code>cohere</code> is a simple ~250 LOC schema lib.</p>
<pre><code class="lang-sh">npm install micrograph cohere graphql --save
</code></pre>
<p>Now, we need to define the schema, queries, mutations, and middleware. These steps are outlined in the tutorial.</p>
<h2 id="documentation">Documentation </h2>
<ol>
<li><a href="tutorial.html">Tutorial</a><ol>
<li><a href="tutorial/define-business-logic.html">Define your business-logic layer</a></li>
<li><a href="tutorial/define-the-schema.html">Define your schema</a></li>
<li><a href="tutorial/root-queries-and-mutations.html">Root queries and mutations</a></li>
<li><a href="tutorial/middleware.html">Middleware</a></li>
<li><a href="tutorial/wire-everything-together.html">Wire everything together</a></li>
</ol>
</li>
<li><a href="data-modeling.html">Data modeling</a></li>
<li><a href="api-reference.html">API</a><ol>
<li><a href="api/compile.html">compile</a></li>
<li><a href="api/create-middleware.html">createMiddleware</a></li>
</ol>
</li>
</ol>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                
                <a href="tutorial.html" class="navigation navigation-next navigation-unique" aria-label="Next page: Tutorial">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Introduction","level":"1.1","depth":1,"next":{"title":"Tutorial","level":"1.2","depth":1,"path":"tutorial.md","ref":"tutorial.md","articles":[{"title":"1. Define your business-logic layer","level":"1.2.1","depth":2,"path":"tutorial/define-business-logic.md","ref":"tutorial/define-business-logic.md","articles":[]},{"title":"2. Define your schema","level":"1.2.2","depth":2,"path":"tutorial/define-the-schema.md","ref":"tutorial/define-the-schema.md","articles":[]},{"title":"3. Root queries and mutations","level":"1.2.3","depth":2,"path":"tutorial/root-queries-and-mutations.md","ref":"tutorial/root-queries-and-mutations.md","articles":[]},{"title":"4. Middleware","level":"1.2.4","depth":2,"path":"tutorial/middleware.md","ref":"tutorial/middleware.md","articles":[]},{"title":"5. Wire everything together","level":"1.2.5","depth":2,"path":"tutorial/wire-everything-together.md","ref":"tutorial/wire-everything-together.md","articles":[]}]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"README.md","mtime":"2016-12-07T19:05:33.000Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2016-12-07T19:05:39.616Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

